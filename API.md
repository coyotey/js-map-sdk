<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

# AirspaceMap

Class that wraps Mapbox GL and allows for working with airspace layers.

## constructor

Configure map, set options, and load stylesheets.

**Parameters**

-   `config` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?=  i** AirMap configuration object containing an API Key and Mapbox Access Token.
-   `config.airmap.api_key` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** AirMap API Key from the developer dashboard.
-   `config.mapbox.access_token` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Mapbox access token.
-   `opts` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Map options.
    -   `opts.container` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** ID of the DOM element to load the map inside.
    -   `opts.center` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)?** An array with [latitude, longitude] coordinates for where the map should be centered on load. (optional, default `[0,0]`)
    -   `opts.layers` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)?** Airspace layers to make visible on load. (optional, default `[]`)
    -   `opts.theme` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** Map theme: standard, dark, light, or satellite. (optional, default `standard`)
    -   `opts.zoom` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Map zoom level on load. (optional, default `7`)
    -   `opts.pitch` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Map pitch on load. (optional, default `0`)
    -   `opts.bearing` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?** Map bearing on load. (optional, default `0`)
    -   `opts.interactive` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Specifies whether users can click on and manipulate the map. (optional, default `true`)
    -   `opts.showControls` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Show controls for zoom and bearing. (optional, default `true`)
    -   `opts.showPopups` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Show a popup with airspace information when a user clicks on the map. (optional, default `true`)
    -   `opts.showSearch` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Render a search bar that allows users to query for a specific location. (optional, default `false`)
    -   `opts.useLocation` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Attempt to center the map on a user's location if their browser allows geolocation. (optional, default `true`)
    -   `opts.createFlights` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)?** Insert an 'add flight here' button in popups that allows users to create a flight using DNAS Basic Integration. (optional, default `false`)

## setLayers

Set the visible layers on the map and hide all other layers.

**Parameters**

-   `layers` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** List of layer names you want the map to display.

Returns **[AirspaceMap](#airspacemap)** `this`

## getLayers

Retrieve a list of currently active layers.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** layers - List of visible layers.

## addLayer

Show an airspace layer if it is not currently visible.

**Parameters**

-   `layer` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the layer to add.

Returns **[AirspaceMap](#airspacemap)** `this`

## removeLayer

Hide an airspace layer if it is currently visible.

**Parameters**

-   `layer` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the layer to add.

Returns **[AirspaceMap](#airspacemap)** `this`

## hasLayer

Checks if the provided layer is currently active on the map.

**Parameters**

-   `layer` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Name of the layer to check.

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

## move

Moves the map to a new location.

**Parameters**

-   `latitude` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** Latitude of the location to move to.
-   `longitude` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** Longitude of the location to move to.
-   `zoom` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)?** Zoom level when centering on the new location.

Returns **[AirspaceMap](#airspacemap)** `this`

## flyTo

Wraps Mapbox GL's Map.flyTo.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#flyTo)

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Mapbox GL [Map.flyTo options](https://www.mapbox.com/mapbox-gl-js/api/#flyTo).
-   `args` **...any** 

Returns **[AirspaceMap](#airspacemap)** `this`

## zoom

Wraps Mapbox GL's Map.zoomTo.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#zoomTo)

**Parameters**

-   `zoom` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The zoom level to transition to.
-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Mapbox GL [AnimationOptions](https://www.mapbox.com/mapbox-gl-js/api/#AnimationOptions).
-   `args` **...any** 

Returns **[AirspaceMap](#airspacemap)** `this`

## zoomIn

Zoom in to the map by a specified amount.

**Parameters**

-   `delta` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The amount to add to the current zoom level.

Returns **[AirspaceMap](#airspacemap)** `this`

## zoomOut

Zoom out of the map by a specified amount.

**Parameters**

-   `delta` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** The amount to subtract from the current zoom level.

Returns **[AirspaceMap](#airspacemap)** `this`

## resize

Wraps Mapbox GL's Map.resize. Resizes the map according to the dimensions of its container element.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#resize)

Returns **[AirspaceMap](#airspacemap)** `this`

## fitBounds

Wraps Mapbox GL's Map.fitBounds.
Pans and zooms the map to contain its visible area within the specified geographical bounds.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#fitBounds)

**Parameters**

-   `bounds` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** Mapbox GL [LngLatBoundsLike](https://www.mapbox.com/mapbox-gl-js/api/#LngLatBoundsLike).
-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Mapbox GL [fitBounds options](https://www.mapbox.com/mapbox-gl-js/api/#Map#fitBounds).
-   `eventData`   (optional, default `map.`)

Returns **[AirspaceMap](#airspacemap)** `this`

## getCenter

Wraps Mapbox GL's Map.getCenter. Returns the map's geographical centerpoint.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#getCenter)

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** LngLat - Mapbox GL [LngLat](https://www.mapbox.com/mapbox-gl-js/api/#LngLat).

## getZoom

Wraps Mapbox GL's Map.getZoom. Returns the map's current zoom level.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#getZoom)

Returns **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** zoom - Current zoom level.

## getSource

Wraps Mapbox GL's Map.getSource. Returns the source with the specified ID in the map's style.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#getSource)

**Parameters**

-   `id` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the source to get.

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** source - The style source with the specified ID, or undefined if the ID corresponds to no existing sources.

## addSource

Wraps Mapbox GL's Map.addSource.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#addSource)

**Parameters**

-   `id` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the source to get.
-   `source` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The source object, conforming to the Mapbox Style Specification's [source definition](https://www.mapbox.com/mapbox-gl-style-spec/#sources).

## addControl

Wraps Mapbox GL's Map.addControl.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#addControl)

**Parameters**

-   `control` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The [Control](https://www.mapbox.com/mapbox-gl-js/api/#Control) to add.

Returns **[AirspaceMap](#airspacemap)** `this`

## removeControl

Wraps Mapbox GL's Map.removeControl.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#removeControl)

**Parameters**
-   `control` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)
** The [Control](https://www.mapbox.com/mapbox-gl-js/api/#Control) to remove.

Returns **[AirspaceMap](#airspacemap)** `this`

## getTheme

Returns the theme that is currently active.

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** theme - Theme that is currently displayed on the map.

## theme

Updates the current theme by requesting new map tiles.

**Parameters**

-   `theme` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Theme to display on the map.


-   Throws **BadOptionError** Will throw an error if the provided theme is invalid.

## getContainer

Wraps Mapbox GL's Map.getContainer. Returns the map's containing HTML element.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#getContainer)

Returns **[HTMLElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement)**

## addMarker

Drops a marker at the provided location.

**Parameters**

-   `latitude` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** Latitude of the location.
-   `longitude` **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** Longitude of the location.
-   `properties` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)?** Additional properties to add to the marker feature.

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** id - An ID referencing the marker.

## removeMarker

Drops a marker at the provided location.

**Parameters**

-   `id` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** ID of the marker to remove.

Returns **[AirspaceMap](#airspacemap)** `this`

## remove

Wraps Mapbox GL's Map.remove. Destroys the map and its underlying resources.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Map#remove)

## mapboxgl

Returns the underlying mapboxgl.Map instance, providing access to any
Mapbox GL methods not wrapped in this SDK.

## on

Wraps Mapbox GL's method to add an event listener.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Evented#on)

**Parameters**

-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The event type to add a listener for.
-   `listener` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The function to be called when the event is fired.

## off

Wraps Mapbox GL's method to remove an event listener.
[\[docs\]](https://www.mapbox.com/mapbox-gl-js/api/#Evented#off)

**Parameters**

-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The event type to remove listeners for.
-   `listener` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The listener function to remove.
